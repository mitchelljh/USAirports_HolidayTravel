<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>US Airports - Holiday Travel</title>

  <!-- stylesheets -->
  <!--<link href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/cerulean/bootstrap.min.css" rel="stylesheet" integrity="sha384-C++cugH8+Uf86JbNOnQoBweHHAe/wVKN/mb0lTybu/NZ9sEYbd+BbbYtNpWYAsNP" crossorigin="anonymous">-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/flatly/bootstrap.min.css" integrity="sha384-qF/QmIAj5ZaYFAeQcrQ6bfVMAh4zZlrGwTPY7T/M+iTTLJqJBJjwwnsE5Y0mV7QK" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css" rel='stylesheet'/>
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"/>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css">

  <style>
    #map {width: 100%;height: calc(40vh);}
    #about {max-height: calc(80vh);overflow-y: scroll;}
    /* Small devices (landscape phones, 576px and up) */
    @media (min-width: 576px) {}
    /* Medium devices (tablets, 768px and up) */
    @media (min-width: 768px) {#map {height: calc(60vh);}}
    /* Large devices (desktops, 992px and up) */
    @media (min-width: 992px) {#map {height: calc(80vh);}}
    /* Extra large devices (large desktops, 1200px and up) */
    @media (min-width: 1200px) {}

    /* add legend styles here */
    .legend{
      line-height: 40px;
      font-size: 16px;
      width: 190px;
      color: #333333;
      padding: 6px 8px;
      background: white;
      background: rgba(255,255,255,0.8);
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      border-radius: 5px;
      font-family: 'Raleway', sans-serif;
    }
    .legend i {
      width: 20px;
      height: 20px;
      float: left;
      margin-right: 12px;
      opacity: 0.9;
    }
    .legend img {
      width: 16px;
      height: 16px;
      margin-right: 3px;
      float: left;
    }
    .legend p {
      font-size: 16px;
      line-height: 20px;
      margin: 0;
    }

    header {color: #797D63; font-family: 'Playfair Display', serif;}
    p, footer {font-family: 'Raleway', sans-serif;}
    h1, h3 {font-family: 'Playfair Display', serif}
    footer {font-size: 11px;}

  </style>



</head>

<body>
<!-- beginning of fluid div container-->

  <div class="container-fluid">
    <!-- header section -->
    <header class="row py-3 bg-primary text-white">
      <div class="col mx-2">
        <h1 class="h1">Traveling During the Holiday Season? (US Airports, 2019)</h1>
      </div>
    </header>

    <!-- middle section -->
    <section class="row bg-light">
      <!-- left - about -->
      <aside id="about" class="col-12 col-md-5 col-lg-4 text-dark py-2">
        <section>
          <h3 class="h3 text-dark" style="text-align:center;"><b>Check Your Nearest Airports First!</h3></b>
          <p style="font-size: 19px; text-align:center;">While the COVID-19 pandemic looms across holiday plans, <i><b>the number of cases in the United States (US) continues to rise dramatically</i></b>.
          </br>Individuals are <i><b>still making plans</i></b> to be with their family, friends, and loved ones across the country <i><b>despite restrictions and leaders urging action</i></b>.</p>

          <p>The need to be with people is noticed, but it does not diminish the fact that individuals need to take the correct precautions. Of course, staying at home and using
          the latest technology to communicate would be advised. Top health experts still insist on staying home to limit community spread. </br>
          However, if you find yourself in dire need to travel this holiday season, here is some advice. </p>

          <p><i>National Geographic Magazine</i> reporter, Nsikan Akpan, includes travel tips if you must travel this holiday season.
            <a href="https://www.nationalgeographic.com/travel/2020/11/how-to-minimize-coronavirus-risk-during-your-holiday-trip/#close">"How to limit your COVID-19 risk during holiday travel" details one reporter's steps in preparing for travel.</a>
          While<b> wearing a mask</b>, <b>social distancing</b>, <b>maintaining good hygiene</b>, and <b>participating in social events outdoors</b> have been the necessary protocols during 2020.
          These precautions are just as necessary to do <b>before and while traveling</b>.</br></br>
          <!--Jennifer Nuzzo, an epidemiologist at John Hopkins Testing Insights Initiative, stated that "when layer[ing] [the COVID-19 protocols], [it] can add up to a greater degreee of safety."-->
          The question on everyone's mind, <b>is quarantine necessary?</b> </br>
           <b>Yes</b>, if you plan to travel and be with people outside of your household, it is <b>best to limit "all interactions with people outside your bubble for two weeks."</b>
          The quarantine works both ways. You and those in your household should isolate for 14 days, and those you are visiting should do the same.</br></br>
          <!--The reporter illustrates this with a bubble; the quarantine bubble "only works if no one busts it."-->
          While testing can be complicated for most, the safest measure is to receive <b> "three negative tests </b> over a <b> two-week period</b>."
          If you are concerned about the risk during travel, consider researching the number of cases and the positivity rate of where you live and where you are traveling to.</br></br>
          <b>Should I travel by plane?</b>
          Traveling by plane has been proven to be safer than first believed. The air filtration system on the airplanes "filter out 99 percent of [the aerosols]." The risk for travelers is the airport.
          Social distancing while at the airport is one of the most important measures you can partake of.
          <!--Distance yourself from other travelers as best as you can, and eat isolated from others.
          Masks have become a key measure in protection, but an ill-fitting mask defeats the purpose.-->
          Do your part and make sure your mask fits properly and consider upgrading to a higher quality mask while traveling. Layering masks with a "surgical mask under a tight fabric one" is a great idea to consider for travel as well.</p>
          <img src="airport.jpg" alt="Airport - Security checkpoint during pandemic" style="width: 590px; height: 400px;">
          <p style="font-size:10px;">Airports reach records during the COVID-19 pandemic as the number of travelers increased during the Thanksgiving holiday. San Francisco International Airport (pictured) experiences clusters of masked travelers. (Source: <a href="https://www.bloomberg.com/news/articles/2020-11-25/u-s-travel-is-up-during-the-thanksgiving-holiday">Bloomberg L.P. &copy;, CityLab 2020</a>)</p>
          <p> - - - </p>
          <p><b>Do you have travel plans this holiday season? Is there an airport near you? Navigate this map to find an airport in your area.</p></b>
          <p>The article described above explains travel tips, and they can seem daunting to keep up with the numerous health suggestions. </br>
             It is still important to check for your flight!</p>
          <p style="text-align: center;"><b>In the map provided is the name and location of US airports. </br>
            Is one in your area? Get in touch with the airport to find out about their travel precautions and availability of flights.</p></b>
          <p>The map provided shows the <b> number of enplanements – or airplane landings – at each airport</b>. The number of enplanements establishes the size of the airports.
            This map is intended to provide travelers this holiday season a view of the airports near them and if one is in their vicinity.
            The data provided is for US airports, and the symbols are ranked based on the size of the enplanements.
            Map users should see the <b>legend</b> provided in the <b>top right</b> to view enplanement sizes.
            The application has the feature of viewing airport information as each <b> airplane </b> symbol reveals an <b> Airport Name </b> and <b> Location </b>.</p>
          <p>To navigate this map, use your <b> mouse </b> to <b> pan </b> and <b> zoom </b>.
             <b> Select </b> an <b> airplane symbol </b> to view airport information. </p>
          <p>This map is designed to assist with your holiday travel. By providing tips for travel and locations of airports, the purpose is to inform you of the nearest airport for your holiday travel, if you do decide to fly this holiday season.</p>
        </section>
      </aside>

      <!-- right - map -->
      <div class="col-12 col-md-7 col-lg-8 px-0">
        <div id="map" class="bg-light position-relative"></div>
      </div>
    </section>

    <!-- footer -->
    <footer class="row bg-primary text-white py-3">
      <div class="col mx-2">
        <ul class="list-unstyled">
          <li>Jessica Mitchell</li>
          <li>December 8, 2020 | Note: All quotes provided are from the linked article (cited below)</li>
          <li>Sources: Nsikan Akpan, <i>National Geographic Magazine &copy;</i>. 2020. <a href="https://www.nationalgeographic.com/travel/2020/11/how-to-minimize-coronavirus-risk-during-your-holiday-trip/#close">How to limit your COVID-19 risk during holiday travel</a> (last accessed 1 December 2020). (Article) || Linda Poon and Marie Patino, Bloomberg CityLab &copy;. 2020. <a href="https://www.bloomberg.com/news/articles/2020-11-25/u-s-travel-is-up-during-the-thanksgiving-holiday">Tens of Millions of Americans Projected to Travel for Thanksgiving Despite Covid Surge</a> (last accessed 1 December 2020). (Image) || </li>
          <li>Airport Enplanements : Esri &copy; <a href="https://www.arcgis.com/home/item.html?id=900d50de880644cdb90c4cab966d0e94">ArcGIS &copy;</a> (Data) || Base Map <a href="https://api.mapbox.com/styles/v1/mitchelljh/ckgi9mqkx1ife19pbxzjlfhgo.html?fresh=true&title=view&access_token=pk.eyJ1IjoibWl0Y2hlbGxqaCIsImEiOiJja2dhdGV2enIwYWN4MnNxdXJ5eGVxMm90In0.dGerELwNAeUSXbONQKVejg">Mapbox &copy;</a> Created by Jessica Mitchell</li>
        </ul>
      </div>
    </footer>
  </div> <!-- end of fluid container -->

  <!-- JS libraries -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>-->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <!-- Mapbox gl js -->
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
  <!-- Leaflet Mapbox JS -->
  <script src="http://rawgit.com/mapbox/mapbox-gl-leaflet/master/leaflet-mapbox-gl.js"></script>

  <!--<script src="js/leaflet-providers.js"></script>-->


  <!-- JS code for map begins here -->
  <script>

  //JS map code goes here
  //1. map object
  var map = L.map('map', {
      center: [39.41351769118679, -98.86061036774537],
      zoom: 5

  });
//2. basemap
  var basemap = L.tileLayer('https://api.mapbox.com/styles/v1/mitchelljh/ckgi9mqkx1ife19pbxzjlfhgo/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoibWl0Y2hlbGxqaCIsImEiOiJja2dhdGV2enIwYWN4MnNxdXJ5eGVxMm90In0.dGerELwNAeUSXbONQKVejg', {
  //L.tileLayer('https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png', {
  //attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
    zoomDelta: 0.25,
    zoomSnap: 0,
    //attribution: 'enter map source here',
}).addTo(map);
//3. add GeoJSON data
  var airports = null;
//4. build a set of colors
  var colors = chroma.scale('Dark2').mode('lch').colors(3);
  //change the Set1
  //should the 3 be changed?
//5. append style classes to this page. style classes shade markers. use a loop.
  for (i = 0; i < 3; i++) {
    $('head').append($("<style> .marker-color-" + (i + 1).toString() + " { color: " + colors[i] + "; font-size: 23px; text-shadow: 0 0 3px #ffffff;} </style>"));
  }

  airports = L.geoJson.ajax("assets/us_airports.geojson",{
    onEachFeature: function (feature, layer) {
      layer.bindPopup('<b> Airport: </b>' + feature.properties.NAME + '<b> || Location: </b>' + feature.properties.CITY + ', ' + feature.properties.STATE);
    },

    pointToLayer: function (feature, latlng) {
      var id = 0;
      if (feature.properties.TOT_ENP < 3000000) { id = 0; } //decide enplanmenet values
      else if (feature.properties.TOT_ENP > 3000001 && feature.properties.TOT_ENP < 14000000) { id = 1; } //decide enplanement values
      else { id = 2; }
      return L.marker(latlng, {icon: L.divIcon({className: 'fas fa-plane marker-color-' + (id + 1).toString() })});
    },

    attribution: 'Airport Enplanements Esri &copy; <a href="https://www.arcgis.com/home/item.html?id=900d50de880644cdb90c4cab966d0e94">ArcGIS &copy;</a> | Base Map <a href="https://api.mapbox.com/styles/v1/mitchelljh/ckgi9mqkx1ife19pbxzjlfhgo.html?fresh=true&title=view&access_token=pk.eyJ1IjoibWl0Y2hlbGxqaCIsImEiOiJja2dhdGV2enIwYWN4MnNxdXJ5eGVxMm90In0.dGerELwNAeUSXbONQKVejg">Mapbox &copy;</a> Created by Jessica Mitchell | Map Author: Jessica Mitchell, 2020'

  }).addTo(map);
  airports.addTo(map);

//from Lab 03 Part 2 (for use if use states or GeoJSON of total population (for instance))
//reference Lab 05
//6. set function for color ramp
  //colors =  chroma.scale('Oranges').colors(5);
  //function setColor(density) {
    //var id = 0;
    //if (density > 31725530.2) { id = 4; }
    //else if (density > 23938837.4 && density <= 31725530.2) { id = 3; }
    //else if (density > 16152144.6 && density <= 23938837.4) { id = 2; }
    //else if (density > 8365451.8 && density <= 16152144.6) { id = 1; }
    //else { id = 0; }
    //return colors[id];
  //}
//7. set style fucntion that sets fill color property equal to total....
  //function style(feature) {
    //return {
      //fillColor: setColor(feature.properties.estimate),
      //fillOpacity: 0.5,
      //weight: 1,
      //opacity: 1,
      //color: '#cacaca',
      //dashArray: '1'
    //};
  //}
  //  airports.addTo(map);
  //8. create second geojson layer
  //states = L.geoJson.ajax("assets/us_states.geojson",{
    //pointToLayer: function (feature, x){
      //return L.circleMarker(x, {
        //color: '#ffdf80',
        //opacity: 1,
        //weight: 2,
        //fillColor: '#ffecb3',
        //fillOpacity: .6,
        //radius: calcRadius(feature.properties.estimate)
      //}).on({
        //mouseover.function(e){
          //this.setStyle({color: '#ffdf80', fillColor: '#ffecb3'});
          //this.bindPopup("State: " + feature.properties.name + "<br>"+ "Population: " + feature.properties.estimate);
          //this.openPopup();
        //},
        //mouseout: function(e){
          //this.setStyle({color: '#ffdf80', fillColor: '#ffecb3'});
          //this.closePopup();
        //},
      //})
    //}
    //style:style
  //}).addTo(map);

//9. Create Leaflet control - legend
  var legend = L.control({position: 'topright'});
//10. function that runs when legend is added to map
  legend.onAdd = function () {
    //create Div element and populate with html
    var div = L.DomUtil.create('div', 'legend');
    //create title for legend
    //div.innerHTML += '<b>US Total Population <br /></b>';
    //call the icon and color
    //div.innerHTML += '<i style="background: ' + colors[4] + '; opacity: 0.5"></i><p> > 31,725,531 </p>';
    //div.innerHTML += '<i style="background: ' + colors[3] + '; opacity: 0.5"></i><p> 23,938,837.4 - 31,725,530 </p>';
    //div.innerHTML += '<i style="background: ' + colors[2] + '; opacity: 0.5"></i><p> 16,152,144.6 - 23,938,837.3 </p>';
    //div.innerHTML += '<i style="background: ' + colors[1] + '; opacity: 0.5"></i><p> 8,365,451.8 - 16,152,144.5 </p>';
    //div.innerHTML += '<i style="background: ' + colors[0] + '; opacity: 0.5"></i><p> 578,759 - 8,365,451.7 </p>';
    div.innerHTML += '<b>Airport Sizes<br /></b>';
    div.innerHTML += '<i class="fas fa-plane marker-color-1"></i><p> < 3,000,000 </p>';
    div.innerHTML += '<i class="fas fa-plane marker-color-2"></i><p> 3,000,0001 - 14,000,000</p>';
    div.innerHTML += '<i class="fas fa-plane marker-color-3"></i><p> > 14,000,000</p>';
    //return the legend
    return div;
  };
//11. add legend to map
  legend.addTo(map);
//12. add scale bar to map
  L.control.scale({position: 'bottomleft', maxWidth: 300}).addTo(map);
  </script>


</body>
</html>
